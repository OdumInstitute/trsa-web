<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <f:facet name="first">
                <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
                <title>Ingest Page</title>
            </f:facet>
        </h:head>

        <h:body>

                    <h:form>
                        <p:panel id="panel1" header="publish Dataset">
    <p:messages id="messages" showDetail="true" closable="true">
        <p:autoUpdate />
    </p:messages>
                        
<p:panelGrid columns="3" >            
<f:facet name="header">
Publish parameters
</f:facet>
    
    <h:outputLabel for="dataverseServer"  value="Target Dataverse server:" /> 
    <h:outputText id="dataverseServer" value="#{ingestPageView.dataverseServer}" />
    <h:outputText value="note: demo site" /> 

    <h:outputLabel for="apiKey" value="api key:" /> 
    <h:outputText id="apiKey" value="#{ingestPageView.apiKey}" /> 
    <h:outputText value="note: " /> 
    

    <h:outputLabel for="dataverseId" value="target Dataverse Id:" /> 
    <h:outputText id="dataverseId" value="#{ingestPageView.targetDataverseId}" /> 
    <h:outputText value="note: integer" /> 
    
    
    <h:outputLabel for="zipfileName" value="Ingested file:" /> 
    <h:outputText id="zipfileName" value="#{ingestPageView.ingestedFile}" /> 
    <h:outputText value="note: zip file" /> 
    
    
    
    <h:outputLabel for="datasetId" value="Payload Dataset Id" />
    <h:outputText id="datasetId" value="#{ingestPageView.datasetIdentifier}" /> 
    <h:outputText value="note: locally generated" /> 

    
    <h:outputLabel for="status"  value="Status:" /> 
    <h:outputText id="status" value="#{ingestPageView.progressTest}"  />
    <h:outputText value="note: status indicator" /> 

<f:facet name="footer">
    <p:commandButton ajax="true" update="messages status" value="get dataverseinfo" 
                     actionListener="#{ingestPageView.getInfo}" />
                    
    <p:commandButton ajax="true" update="messages status" value="publish this dataset" 
                     actionListener="#{ingestPageView.publish}" />
    
    <p:commandButton value="Demo Home"  action="/index.xhtml?face-redirect=true;" />
</f:facet>
</p:panelGrid>


</p:panel>
                    </h:form>


        </h:body>

    </f:view>
</html>

